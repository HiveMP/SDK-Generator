diff --git a/CMakeLists.txt b/CMakeLists.txt
index 490cc19ef..235680758 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -45,8 +45,6 @@ include(Macros)
 include(CMakeDependentOption)
 include(CheckCCompilerFlag)
 
-project( CURL C )
-
 message(WARNING "the curl cmake build system is poorly maintained. Be aware")
 
 file (READ ${CURL_SOURCE_DIR}/include/curl/curlver.h CURL_VERSION_H_CONTENTS)
@@ -1138,7 +1136,7 @@ else()
 endif()
 
 if(USE_MANUAL)
-  add_subdirectory(docs)
+  # add_subdirectory(docs)
 endif()
 
 add_subdirectory(lib)
@@ -1325,3 +1323,5 @@ if(NOT TARGET uninstall)
       COMMAND ${CMAKE_COMMAND} -P
       ${CMAKE_CURRENT_BINARY_DIR}/CMake/cmake_uninstall.cmake)
 endif()
+
+set (CURL_LIBS_EXPORTED_2 ${CURL_LIBS_EXPORTED_1} PARENT_SCOPE)
\ No newline at end of file
diff --git a/lib/CMakeLists.txt b/lib/CMakeLists.txt
index 1fabdba90..3c6a4eeba 100644
--- a/lib/CMakeLists.txt
+++ b/lib/CMakeLists.txt
@@ -69,7 +69,7 @@ endif()
 
 add_library(
   ${LIB_NAME}
-  ${CURL_USER_DEFINED_DYNAMIC_OR_STATIC}
+  OBJECT
   ${HHEADERS} ${CSOURCES}
   )
 
@@ -77,7 +77,7 @@ if(MSVC AND CURL_STATICLIB)
   set_target_properties(${LIB_NAME} PROPERTIES STATIC_LIBRARY_FLAGS ${CMAKE_EXE_LINKER_FLAGS})
 endif()
 
-target_link_libraries(${LIB_NAME} ${CURL_LIBS})
+# target_link_libraries(${LIB_NAME} ${CURL_LIBS})
 
 if(WIN32)
   add_definitions( -D_USRDLL )
@@ -108,24 +108,25 @@ if(WIN32)
   endif()
 endif()
 
-target_include_directories(${LIB_NAME} INTERFACE
-	$<INSTALL_INTERFACE:include>)
-
-install(TARGETS ${LIB_NAME}
-  EXPORT libcurl-target
-  ARCHIVE DESTINATION lib
-  LIBRARY DESTINATION lib
-  RUNTIME DESTINATION bin
-)
-
-export(TARGETS ${LIB_NAME}
-       APPEND FILE ${PROJECT_BINARY_DIR}/libcurl-target.cmake
-       NAMESPACE CURL::
-)
-
-install(EXPORT libcurl-target
-        FILE libcurl-target.cmake
-        NAMESPACE CURL::
-        DESTINATION ${CURL_INSTALL_CMAKE_DIR}
-)
+# target_include_directories(${LIB_NAME} INTERFACE
+# 	$<INSTALL_INTERFACE:include>)
+# 
+# install(TARGETS ${LIB_NAME}
+#   EXPORT libcurl-target
+#   ARCHIVE DESTINATION lib
+#   LIBRARY DESTINATION lib
+#   RUNTIME DESTINATION bin
+# )
+#
+# export(TARGETS ${LIB_NAME}
+#       APPEND FILE ${PROJECT_BINARY_DIR}/libcurl-target.cmake
+#        NAMESPACE CURL::
+# )
+# 
+# install(EXPORT libcurl-target
+#         FILE libcurl-target.cmake
+#         NAMESPACE CURL::
+#         DESTINATION ${CURL_INSTALL_CMAKE_DIR}
+# )
 
+set (CURL_LIBS_EXPORTED_1 ${CURL_LIBS} PARENT_SCOPE)
\ No newline at end of file
